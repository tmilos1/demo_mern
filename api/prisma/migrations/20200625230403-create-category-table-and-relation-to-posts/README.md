# Migration `20200625230403-create-category-table-and-relation-to-posts`

This migration has been generated by Milos Tijanic at 6/25/2020, 11:04:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."Category" (
"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"name" TEXT NOT NULL  )

ALTER TABLE "quaint"."Post" ADD COLUMN "categoryId" INTEGER   ;

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200625225845-initial-database..20200625230403-create-category-table-and-relation-to-posts
--- datamodel.dml
+++ datamodel.dml
@@ -1,21 +1,29 @@
 datasource DS {
   provider = "sqlite"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
   binaryTargets = env("BINARY_TARGET")
 }
 model Post {
-  id        Int      @default(autoincrement()) @id
-  title     String
-  body      String
-  createdAt DateTime @default(now())
+  id         Int       @default(autoincrement()) @id
+  title      String
+  body       String
+  createdAt  DateTime  @default(now())
+  category   Category? @relation(fields: [categoryId], references: [id])
+  categoryId Int?
 }
+model Category {
+  id    Int    @default(autoincrement()) @id
+  name  String
+  posts Post[]
+}
+
 model Contact {
   id        Int      @default(autoincrement()) @id
   name      String
   email     String
```


